/* public/css/style.css — BNGRC Suivi Dons (Version marron) */

:root {
  /* ═══ PALETTE : Marron × Vert Pomme × Vieux Rose × Orchidée ══════════ */
  /* Backgrounds marron */
  --bg:        #e8e3db; /* Fond marron très clair (beige) */
  --surface:   #f5f2ed; /* Surface marron clair */
  --card:      #faf8f5; /* Cartes beige très clair */
  --border:    #d4cec3; /* Bordure marron doux */
  
  /* Marron pour éléments */
  --brown-dark:    #6b5d52; /* Marron foncé pour texte */
  --brown-medium:  #8b7a6b; /* Marron moyen */
  --brown-light:   #b5a594; /* Marron clair */
  --brown-soft:    #d9cfc3; /* Marron très doux */
  
  /* Couleurs d'accent */
  --apple-green:    #8DB600; /* Vert pomme principal */
  --apple-light:    #A4D65E; /* Vert pomme clair */
  --apple-soft:     #C8E68A; /* Vert pomme très doux */
  
  --old-rose:       #C08497; /* Vieux rose principal */
  --old-rose-light: #D4A5A5; /* Vieux rose clair */
  --old-rose-soft:  #E8C8D1; /* Vieux rose très doux */
  
  --orchid:         #BA55D3; /* Orchidée principal */
  --orchid-light:   #C77DBB; /* Orchidée clair */
  --orchid-soft:    #E3B5E8; /* Orchidée très doux */
  
  /* Couleurs fonctionnelles */
  --accent:         var(--apple-green);
  --accent2:        var(--orchid);
  --accent3:        var(--old-rose);
  
  --green:          #10b981; /* Succès */
  --yellow:         #f59e0b; /* Avertissement */
  --red:            #ef4444; /* Erreur */
  
  --text:           #3d3126; /* Texte principal marron foncé */
  --muted:          #8b7a6b; /* Texte secondaire marron */
  
  --sidebar-w: 260px;
  --header-h:  64px;
}

*, *::before, *::after { margin:0; padding:0; box-sizing:border-box; }

body {
  font-family: 'DM Sans', sans-serif;
  background: var(--bg);
  color: var(--text);
  display: flex;
  min-height: 100vh;
  font-size: 14px;
}

/* ═══ SIDEBAR ══════════════════════════════════════════════════════════ */
.sidebar {
  width: var(--sidebar-w);
  background: linear-gradient(180deg, #f5f0e8, #ebe5dc);
  border-right: 1px solid var(--border);
  display: flex;
  flex-direction: column;
  position: fixed;
  top:0; left:0; bottom:0;
  z-index: 100;
  overflow-y: auto;
  box-shadow: 4px 0 12px rgba(61, 49, 38, 0.08);
}

.sidebar-logo { 
  padding: 24px; 
  border-bottom: 1px solid var(--border); 
  display: flex; 
  align-items: center; 
  gap: 14px;
  background: linear-gradient(135deg, rgba(141, 182, 0, 0.12), rgba(186, 85, 211, 0.08));
}

.logo-icon { 
  width: 44px; 
  height: 44px; 
  background: linear-gradient(135deg, var(--apple-green), var(--orchid)); 
  border-radius: 12px; 
  display: flex; 
  align-items: center; 
  justify-content: center; 
  font-size: 20px; 
  color: #fff;
  box-shadow: 0 4px 12px rgba(141, 182, 0, 0.3);
}

.logo-text { 
  font-family: 'Syne', sans-serif; 
  font-weight: 800; 
  font-size: 17px; 
  line-height: 1.1;
  background: linear-gradient(135deg, var(--apple-green), var(--orchid));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.logo-sub { 
  font-size: 10px; 
  color: var(--brown-medium); 
  text-transform: uppercase; 
  letter-spacing: 1.2px;
  margin-top: 2px;
}

.sidebar-section { 
  padding: 20px 16px 8px; 
  font-size: 10px; 
  text-transform: uppercase; 
  letter-spacing: 2px; 
  color: var(--old-rose); 
  font-weight: 700;
}

.nav-item { 
  display: flex; 
  align-items: center; 
  gap: 12px; 
  padding: 11px 16px; 
  margin: 5px 10px; 
  border-radius: 10px; 
  color: var(--brown-medium); 
  font-size: 14px; 
  font-weight: 500; 
  text-decoration: none; 
  transition: all .2s ease;
  position: relative;
}

.nav-item:hover { 
  background: linear-gradient(90deg, rgba(141, 182, 0, 0.1), rgba(186, 85, 211, 0.06));
  color: var(--text);
  transform: translateX(4px);
}

.nav-item.active { 
  background: linear-gradient(90deg, rgba(141, 182, 0, 0.18), rgba(192, 132, 151, 0.12));
  color: var(--apple-green); 
  border-left: 3px solid var(--apple-green); 
  margin-left: 8px; 
  padding-left: 13px;
  font-weight: 600;
  box-shadow: 0 2px 8px rgba(141, 182, 0, 0.15);
}

.nav-item i { 
  width: 20px; 
  text-align: center; 
  font-size: 16px;
}

.sidebar-footer { 
  margin-top: auto; 
  padding: 18px; 
  border-top: 1px solid var(--border); 
  font-size: 12px; 
  color: var(--brown-medium); 
  text-align: center;
  background: linear-gradient(180deg, transparent, rgba(107, 93, 82, 0.05));
}

/* ═══ MAIN ═════════════════════════════════════════════════════════════ */
.main { 
  margin-left: var(--sidebar-w); 
  flex: 1; 
  display: flex; 
  flex-direction: column; 
  min-height: 100vh;
}

/* ═══ TOPBAR ═══════════════════════════════════════════════════════════ */
.topbar { 
  height: var(--header-h); 
  background: rgba(245, 242, 237, 0.9);
  backdrop-filter: blur(12px);
  border-bottom: 1px solid var(--border);
  display: flex; 
  align-items: center; 
  justify-content: space-between; 
  padding: 0 32px; 
  position: sticky; 
  top: 0; 
  z-index: 50;
  box-shadow: 0 2px 8px rgba(61, 49, 38, 0.04);
}

.topbar-title { 
  font-family: 'Syne', sans-serif; 
  font-size: 22px; 
  font-weight: 700;
  color: var(--text);
}

.topbar-title span { 
  background: linear-gradient(135deg, var(--apple-green), var(--orchid));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.topbar-actions { 
  display: flex; 
  align-items: center; 
  gap: 14px;
}

.avatar { 
  width: 40px; 
  height: 40px; 
  background: linear-gradient(135deg, var(--apple-green), var(--orchid));
  border-radius: 50%; 
  display: flex; 
  align-items: center; 
  justify-content: center; 
  font-size: 15px; 
  font-weight: 700; 
  cursor: pointer; 
  color: #fff;
  box-shadow: 0 4px 12px rgba(141, 182, 0, 0.25);
  transition: transform .2s ease;
}

.avatar:hover {
  transform: scale(1.08);
}

/* ═══ CONTENT / FOOTER ═════════════════════════════════════════════════ */
.content { 
  padding: 32px; 
  flex: 1;
}

.footer { 
  padding: 16px 32px; 
  border-top: 1px solid var(--border);
  font-size: 12px; 
  color: var(--brown-medium); 
  text-align: center;
  background: linear-gradient(180deg, transparent, rgba(107, 93, 82, 0.04));
}

/* ═══ BREADCRUMB ═══════════════════════════════════════════════════════ */
.breadcrumb { 
  font-size: 13px; 
  color: var(--brown-medium); 
  margin-bottom: 28px; 
  display: flex; 
  align-items: center; 
  gap: 8px;
}

.breadcrumb .sep { 
  opacity: .4;
}

.breadcrumb .current { 
  color: var(--apple-green);
  font-weight: 600;
}

/* ═══ BUTTONS ══════════════════════════════════════════════════════════ */
.btn { 
  display: inline-flex; 
  align-items: center; 
  gap: 8px; 
  padding: 10px 20px; 
  border-radius: 10px; 
  border: none; 
  cursor: pointer; 
  font-size: 13px; 
  font-weight: 600; 
  font-family: 'DM Sans', sans-serif; 
  text-decoration: none; 
  transition: all .25s ease;
  white-space: nowrap;
}

.btn-primary { 
  background: linear-gradient(135deg, var(--apple-green), var(--orchid));
  color: #fff;
  box-shadow: 0 4px 14px rgba(141, 182, 0, 0.3);
}

.btn-primary:hover { 
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(141, 182, 0, 0.4);
}

.btn-outline { 
  background: rgba(245, 242, 237, 0.8); 
  border: 1.5px solid var(--old-rose);
  color: var(--old-rose);
}

.btn-outline:hover { 
  background: linear-gradient(135deg, rgba(192, 132, 151, 0.15), rgba(186, 85, 211, 0.08));
  border-color: var(--orchid);
  color: var(--orchid);
}

/* ═══ STAT CARDS ═══════════════════════════════════════════════════════ */
.stats-grid { 
  display: grid; 
  grid-template-columns: repeat(4, 1fr); 
  gap: 20px; 
  margin-bottom: 32px;
}

.stat-card { 
  background: linear-gradient(135deg, var(--card), #fff); 
  border: 1px solid var(--border);
  border-radius: 16px; 
  padding: 24px; 
  position: relative; 
  overflow: hidden; 
  transition: all .3s ease;
  box-shadow: 0 2px 8px rgba(61, 49, 38, 0.06);
}

.stat-card:hover { 
  transform: translateY(-4px);
  box-shadow: 0 8px 24px rgba(61, 49, 38, 0.12);
}

.stat-card::before { 
  content: ''; 
  position: absolute; 
  top: 0; 
  left: 0; 
  right: 0; 
  height: 4px;
}

.stat-card.blue::before { 
  background: linear-gradient(90deg, var(--apple-green), var(--apple-light));
}

.stat-card.green::before { 
  background: linear-gradient(90deg, var(--green), #6ee7b7);
}

.stat-card.yellow::before { 
  background: linear-gradient(90deg, var(--old-rose), var(--old-rose-light));
}

.stat-card.red::before { 
  background: linear-gradient(90deg, var(--orchid), var(--orchid-light));
}

.stat-label { 
  font-size: 11px; 
  text-transform: uppercase; 
  letter-spacing: 1.5px; 
  color: var(--brown-medium); 
  font-weight: 700;
}

.stat-value { 
  font-family: 'Syne', sans-serif; 
  font-size: 28px; 
  font-weight: 800; 
  margin: 8px 0 6px;
  background: linear-gradient(135deg, var(--apple-green), var(--orchid));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.stat-value small { 
  font-size: 15px;
}

.stat-sub { 
  font-size: 12px; 
  color: var(--brown-medium);
}

.stat-icon { 
  position: absolute; 
  right: 24px; 
  top: 24px; 
  font-size: 32px; 
  opacity: .08;
  color: var(--brown-dark);
}

/* ═══ SECTION HEADER ═══════════════════════════════════════════════════ */
.section-header { 
  display: flex; 
  align-items: center; 
  justify-content: space-between; 
  margin-bottom: 20px; 
  flex-wrap: wrap; 
  gap: 14px;
}

.section-title { 
  font-family: 'Syne', sans-serif; 
  font-weight: 700; 
  font-size: 18px; 
  display: flex; 
  align-items: center; 
  gap: 12px;
  color: var(--text);
}

.section-title i { 
  color: var(--apple-green);
  font-size: 16px;
}

/* ═══ FILTERS ══════════════════════════════════════════════════════════ */
.filter-bar { 
  display: flex; 
  gap: 12px; 
  flex-wrap: wrap; 
  align-items: center;
}

.filter-select, .filter-input { 
  background: var(--card); 
  border: 1.5px solid var(--border);
  color: var(--text); 
  border-radius: 10px; 
  padding: 10px 16px; 
  font-family: 'DM Sans', sans-serif; 
  font-size: 13px; 
  outline: none; 
  transition: all .2s ease;
}

.filter-select:focus, .filter-input:focus { 
  border-color: var(--apple-green);
  box-shadow: 0 0 0 3px rgba(141, 182, 0, 0.1);
  background: #fff;
}

.filter-input { 
  min-width: 240px;
}

.filter-input::placeholder { 
  color: var(--brown-medium);
}

/* ═══ TABLES ═══════════════════════════════════════════════════════════ */
.table-wrap, .detail-table-wrap { 
  background: linear-gradient(135deg, var(--card), #fff);
  border: 1px solid var(--border);
  border-radius: 16px; 
  overflow: hidden; 
  margin-bottom: 32px;
  box-shadow: 0 2px 8px rgba(61, 49, 38, 0.06);
}

.table-wrap table, .detail-table-wrap table { 
  width: 100%; 
  border-collapse: collapse;
}

.table-wrap thead th, .detail-table-wrap thead th { 
  background: linear-gradient(90deg, rgba(141, 182, 0, 0.12), rgba(186, 85, 211, 0.06));
  padding: 14px 18px; 
  text-align: left; 
  font-size: 11px; 
  text-transform: uppercase; 
  letter-spacing: 1.5px; 
  color: var(--old-rose);
  font-weight: 700;
  border-bottom: 2px solid var(--border);
}

.table-wrap tbody td, .detail-table-wrap tbody td { 
  padding: 13px 18px; 
  font-size: 13.5px; 
  border-bottom: 1px solid rgba(212, 206, 195, 0.5);
  vertical-align: middle;
  background: var(--card);
}

.table-wrap tbody tr:last-child td, .detail-table-wrap tbody tr:last-child td { 
  border-bottom: none;
}

.table-wrap tbody tr:hover td, .detail-table-wrap tbody tr:not(.city-row):hover td { 
  background: linear-gradient(90deg, rgba(141, 182, 0, 0.08), rgba(186, 85, 211, 0.04));
}

/* ═══ RESPONSIVE TABLES (Forms) ════════════════════════════════════════ */
.table-responsive {
  background: transparent;
  border-radius: 14px;
  overflow: auto;
  max-height: 420px;
  padding: 10px;
  -webkit-overflow-scrolling: touch;
}

.table-responsive table { 
  width: 100%; 
  border-collapse: collapse; 
  min-width: 720px;
}

.table-responsive thead th {
  position: sticky;
  top: 0;
  background: linear-gradient(90deg, rgba(250, 248, 245, 0.98), rgba(245, 242, 237, 0.98));
  z-index: 5;
  backdrop-filter: blur(6px);
  padding: 14px 18px;
  text-align: left;
  font-size: 11px;
  text-transform: uppercase;
  letter-spacing: 1.5px;
  color: var(--old-rose);
  font-weight: 700;
  border-bottom: 2px solid var(--border);
}

.table-responsive tbody td { 
  white-space: nowrap; 
  vertical-align: middle;
  padding: 12px 18px;
  border-bottom: 1px solid rgba(212, 206, 195, 0.4);
  background: var(--card);
}

.table-responsive td.montant-cell { 
  text-align: right; 
  font-variant-numeric: tabular-nums;
}

.table-responsive input[type="checkbox"] { 
  transform: scale(1.08);
  accent-color: var(--apple-green);
}

@media (max-width: 900px) {
  .table-responsive { max-height: 320px; }
  .table-responsive table { min-width: 900px; }
}

.form-card--wide { 
  max-width: 1300px; 
  padding: 40px;
}

/* ═══ CITY ROW ═════════════════════════════════════════════════════════ */
.city-row td { 
  background: linear-gradient(90deg, rgba(141, 182, 0, 0.15), rgba(192, 132, 151, 0.1)) !important;
  font-family: 'Syne', sans-serif; 
  font-weight: 700; 
  font-size: 14px; 
  color: var(--apple-green);
  border-top: 2px solid rgba(141, 182, 0, 0.3);
  padding: 12px 18px !important;
}

.city-row td i { 
  margin-right: 10px; 
  font-size: 14px;
  color: var(--orchid);
}

.empty-row { 
  color: var(--brown-medium); 
  font-style: italic; 
  font-size: 13px; 
  padding-left: 36px !important;
}

/* ═══ PROGRESS ═════════════════════════════════════════════════════════ */
.progress-wrap { 
  display: flex; 
  align-items: center; 
  gap: 12px;
}

.progress-bar { 
  flex: 1; 
  height: 7px; 
  background: var(--brown-soft);
  border-radius: 999px; 
  overflow: hidden;
}

.progress-fill { 
  height: 100%; 
  border-radius: 999px; 
  transition: width .6s cubic-bezier(0.4, 0, 0.2, 1);
}

.fill-green { 
  background: linear-gradient(90deg, var(--green), #6ee7b7);
}

.fill-yellow { 
  background: linear-gradient(90deg, var(--old-rose), var(--old-rose-light));
}

.fill-red { 
  background: linear-gradient(90deg, var(--orchid), var(--orchid-light));
}

.pct-label { 
  width: 44px; 
  font-weight: 700;
  font-variant-numeric: tabular-nums; 
  font-size: 13px;
  color: var(--apple-green);
}

/* ═══ BADGES ═══════════════════════════════════════════════════════════ */
.badge { 
  display: inline-flex; 
  align-items: center; 
  gap: 6px; 
  padding: 5px 12px; 
  border-radius: 20px; 
  font-size: 12px; 
  font-weight: 600; 
  white-space: nowrap;
}

.badge-green { 
  background: rgba(16, 185, 129, 0.15);
  color: var(--green);
}

.badge-yellow { 
  background: rgba(192, 132, 151, 0.2);
  color: var(--old-rose);
}

.badge-red { 
  background: rgba(186, 85, 211, 0.15);
  color: var(--orchid);
}

/* ═══ NUMERIC ══════════════════════════════════════════════════════════ */
.num { 
  font-variant-numeric: tabular-nums; 
  font-weight: 600;
}

.num-muted { 
  color: var(--brown-medium);
}

.num-green { 
  color: var(--green);
}

.num-yellow { 
  color: var(--old-rose);
}

.num-red { 
  color: var(--orchid);
}

/* ═══ RESPONSIVE ═══════════════════════════════════════════════════════ */
@media (max-width: 1200px) { 
  .stats-grid { grid-template-columns: repeat(2, 1fr); }
}

@media (max-width: 768px) { 
  .sidebar { transform: translateX(-100%); }
  .main { margin-left: 0; }
  .stats-grid { grid-template-columns: 1fr; }
  .content { padding: 20px; }
}

/* ═══ SCROLLBAR ════════════════════════════════════════════════════════ */
::-webkit-scrollbar { 
  width: 10px; 
  height: 10px;
}

::-webkit-scrollbar-track { 
  background: rgba(107, 93, 82, 0.08);
}

::-webkit-scrollbar-thumb { 
  background: linear-gradient(180deg, var(--brown-medium), var(--brown-light));
  border-radius: 8px; 
  border: 2px solid transparent;
}

::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(180deg, var(--brown-dark), var(--brown-medium));
}

/* ═══ FORM CARD ════════════════════════════════════════════════════════ */
.form-card {
  background: linear-gradient(135deg, var(--card), #fff);
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 44px;
  max-width: 720px;
  margin: 0 auto;
  box-shadow: 0 8px 24px rgba(61, 49, 38, 0.08);
}

.form-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 32px;
  margin-bottom: 36px;
}

.form-group {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.form-group label {
  font-weight: 600;
  font-size: 13px;
  color: var(--old-rose);
  letter-spacing: 0.3px;
}

.form-input, .form-select {
  background: var(--surface);
  border: 1.5px solid var(--border);
  color: var(--text);
  border-radius: 10px;
  padding: 14px 16px;
  font-family: 'DM Sans', sans-serif;
  font-size: 14px;
  outline: none;
  transition: all .2s ease;
  width: 100%;
}

.form-input:focus, .form-select:focus {
  border-color: var(--apple-green);
  box-shadow: 0 0 0 3px rgba(141, 182, 0, 0.1);
  background: #fff;
}

.form-group-full {
  grid-column: 1 / -1;
}

/* ═══ ANIMATIONS & EFFECTS ════════════════════════════════════════════ */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.stat-card, .table-wrap, .form-card {
  animation: fadeInUp 0.4s ease-out;
}

/* Effet de brillance sur les cartes */
.stat-card::after {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  right: -50%;
  bottom: -50%;
  background: linear-gradient(
    45deg,
    transparent 30%,
    rgba(255, 255, 255, 0.2) 50%,
    transparent 70%
  );
  transform: rotate(45deg);
  opacity: 0;
  transition: opacity 0.3s;
}

.stat-card:hover::after {
  opacity: 0.4;
  animation: shine 1.5s ease-in-out;
}

@keyframes shine {
  0% { transform: translateX(-100%) rotate(45deg); }
  100% { transform: translateX(100%) rotate(45deg); }
}